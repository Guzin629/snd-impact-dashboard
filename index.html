
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SND Impact – Step #1, #2 & #3 (Interactive)</title>

<style>
/* Mock-up disclaimer banner */
.disclaimer{background:#fff4d6;border:1px solid #ffd48a;color:#5a3b00;border-radius:12px;padding:10px 12px;margin:0 auto 16px;max-width:1160px;box-shadow:0 6px 18px rgba(0,0,0,.06);display:flex;gap:10px;align-items:center;}
.disclaimer b{color:#7a4b00;}
.disclaimer .dot{width:10px;height:10px;border-radius:50%;background:#ffb020;flex:0 0 10px;}
.disclaimer .txt{font-size:13px;line-height:1.3;}

body { font-family: Segoe UI, Arial, sans-serif; background:#f5f7fa; color:#2b2b2b; margin:24px; }
.wrap { max-width: 1160px; margin: 0 auto; }
h1,h2 { color:#003366; margin: 0 0 8px; }

.card { background:#fff; border-radius:14px; box-shadow:0 8px 24px rgba(0,0,0,.08); padding:20px; margin-bottom:20px; }
.grid { display:grid; grid-template-columns: 2fr 1fr; gap:20px; align-items: start; }

.kpis { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; margin-top:10px; }
.kpi { background:#f0f6ff; border:1px solid #e1ecfb; border-radius:10px; padding:12px; }
.kpi .v { font-size:20px; font-weight:700; color:#005EB8; }

table { width:100%; border-collapse:collapse; font-size:14px; }
th, td { padding:10px 8px; text-align:left; border-bottom:1px solid #eef2f7; }
th { color:#003366; font-weight:600; }

.bar { height:10px; background:#e9eef6; border-radius:6px; overflow:hidden; }
.bar > span { display:block; height:100%; background:linear-gradient(90deg,#66A3D2,#005EB8); }

select { border:1px solid #d4deee; padding:8px 10px; border-radius:8px; font-size:14px; color:#003366; background:#f7fbff; }
input[type="checkbox"]{ accent-color:#0B6FB8; }

svg{width:100%;height:auto}
.pt{stroke:#fff;stroke-width:1.5}
</style>
</head>

<body>

<div class="disclaimer">
  <span class="dot"></span>
  <div class="txt"><b>This is a mock‑up.</b> Data validation in progress.</div>
</div>

<div class="wrap">

<!-- ================= STEP #1 ================= -->
<div class="card">
  <div class="title-row">
    <h1>Step #1 – Impact Profile (Interactive)</h1>
    <div>
      <label>Project</label>
      <select id="projectSel">
        <option value="Frida">Frida</option>
        <option value="Tango" selected>Tango</option>
      </select>
    </div>
  </div>

  <div class="grid">
    <div>
      <svg id="radarSvg" viewBox="0 0 560 560"></svg>
    </div>
    <div>
      <h2>Snapshot</h2>
      <div class="kpis">
        <div class="kpi"><div>Questions</div><div id="kpiQ" class="v">0</div></div>
        <div class="kpi"><div>Yes</div><div id="kpiYes" class="v">0</div></div>
        <div class="kpi"><div>No</div><div id="kpiNo" class="v">0</div></div>
      </div>
      <div class="kpi" style="margin-top:12px">
        <div>Average weighted impact</div>
        <div id="kpiAvg" class="v">0.00</div>
      </div>

      <h2 style="margin-top:16px">Top impacted functions</h2>
      <table id="topTbl">
        <thead><tr><th>Function</th><th>Impact</th><th style="text-align:right">Score</th></tr></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</div>

<div class="card">
  <h2>Detail by function</h2>
  <table id="detailTbl">
    <thead>
      <tr><th>Function</th><th>#Yes</th><th>#No</th><th>Impact</th><th>Weighted</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!-- ================= DATA & LOGIC ================= -->
<script>
/* === FULL DATA OBJECT (UNCHANGED) === */
const DATA = {
  Frida:{rows:[
    {Function:"SNO","#Yes":8,"#No":6,Impact_count:0.5714,Weighted_Responses:10.46875,Weighted_Base:18.625,Impact_weights:0.5621},
    {Function:"Factory","#Yes":5,"#No":6,Impact_count:0.4545,Weighted_Responses:7.5625,Weighted_Base:15.0625,Impact_weights:0.5021},
    {Function:"EM SC","#Yes":5,"#No":9,Impact_count:0.3571,Weighted_Responses:6.71875,Weighted_Base:18.0625,Impact_weights:0.3720},
    {Function:"Leaf","#Yes":0,"#No":1,Impact_count:0,Weighted_Responses:0,Weighted_Base:1.53125,Impact_weights:0},
    {Function:"Procurement","#Yes":0,"#No":6,Impact_count:0,Weighted_Responses:0,Weighted_Base:8.15625,Impact_weights:0}
  ]},
  Tango:{rows:[
    {Function:"Factory","#Yes":6,"#No":5,Impact_count:0.5455,Weighted_Responses:8.34375,Weighted_Base:15.0625,Impact_weights:0.5539},
    {Function:"SNO","#Yes":8,"#No":6,Impact_count:0.5714,Weighted_Responses:10,Weighted_Base:18.625,Impact_weights:0.5369},
    {Function:"EM SC","#Yes":7,"#No":7,Impact_count:0.5,Weighted_Responses:8.65625,Weighted_Base:18.0625,Impact_weights:0.4792},
    {Function:"Leaf","#Yes":0,"#No":1,Impact_count:0,Weighted_Responses:0,Weighted_Base:1.53125,Impact_weights:0},
    {Function:"Procurement","#Yes":0,"#No":6,Impact_count:0,Weighted_Responses:0,Weighted_Base:8.15625,Impact_weights:0}
  ]}
};

function render(project){
  const rows=DATA[project].rows;
  const yes=rows.reduce((s,r)=>s+r["#Yes"],0);
  const no=rows.reduce((s,r)=>s+r["#No"],0);
  const wr=rows.reduce((s,r)=>s+r.Weighted_Responses,0);
  const wb=rows.reduce((s,r)=>s+r.Weighted_Base,0);

  kpiQ.textContent=yes+no;
  kpiYes.textContent=yes;
  kpiNo.textContent=no;
  kpiAvg.textContent=(wb?wr/wb:0).toFixed(2);

  topTbl.querySelector("tbody").innerHTML=
    rows.slice().sort((a,b)=>b.Impact_weights-a.Impact_weights).slice(0,3)
    .map(r=>`<tr><td>${r.Function}</td>
      <td><div class="bar"><span style="width:${r.Impact_weights*100}%"></span></div></td>
      <td style="text-align:right">${r.Impact_weights.toFixed(2)}</td></tr>`).join("");

  detailTbl.querySelector("tbody").innerHTML=
    rows.map(r=>`<tr><td>${r.Function}</td><td>${r["#Yes"]}</td><td>${r["#No"]}</td>
      <td>${r.Impact_count.toFixed(2)}</td><td>${r.Impact_weights.toFixed(2)}</td></tr>`).join("");
}

projectSel.onchange=e=>render(e.target.value);
render("Tango");
</script>

</div>
</body>
</html>
``
